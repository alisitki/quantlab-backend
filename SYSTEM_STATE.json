{
  "system_state_version": "v2.1",
  "last_updated": "2026-02-06",

  "current_phase": 4,
  "phase_status": {
    "phase_0_data_integrity": "STABLE",
    "phase_1_strategy_runtime": "STABLE",
    "phase_2_safety_guards": "STABLE",
    "phase_3_ml_advisory": "STABLE",
    "phase_4_live_trading": "READY",
    "phase_5_ops_monitoring": "STABLE"
  },

  "alpha_layer": {
    "status": "ACTIVE",
    "current_focus": "strategy_validation",
    "feature_analysis": {
      "status": "ACTIVE",
      "modules": [
        "FeatureCorrelation",
        "FeatureLabelCorrelation",
        "LabelDistribution",
        "PermutationImportance",
        "FeatureDistribution",
        "FeatureStability",
        "FeatureReportGenerator"
      ],
      "cli_tools": ["ml-feature-analysis.js"],
      "logging": ["DecisionLogger", "RegimeLogger"]
    },
    "feature_development": {
      "status": "EXTENDED",
      "live_features": [
        "mid_price", "spread", "return_1", "volatility",
        "ema", "rsi", "atr", "roc",
        "regime_volatility", "regime_trend", "regime_spread",
        "microprice", "imbalance_ema", "ema_slope", "bollinger_pos",
        "volatility_ratio", "trend_strength", "spread_ratio"
      ],
      "behavior_features": [
        "liquidity_pressure",
        "return_momentum",
        "regime_stability",
        "spread_compression",
        "imbalance_acceleration",
        "micro_reversion",
        "quote_intensity",
        "behavior_divergence",
        "volatility_compression_score"
      ],
      "behavior_features_status": "EXPANDED",
      "pending_features": [],
      "target_count": 24
    },
    "behavior_modeling_layer": {
      "status": "PHASE_2_EXPANDED",
      "date_started": "2026-02-05",
      "date_expanded": "2026-02-06",
      "approach": "behavior_feature_stack",
      "features_implemented": 9,
      "bbo_features": 7,
      "derived_features": 2,
      "milestone_1_completed": "2026-02-06",
      "milestone_1_desc": "FeatureBuilder derived feature fix (static isDerived)",
      "milestone_2_completed": "2026-02-06",
      "milestone_2_desc": "6 new behavior features (4 BBO + 2 derived)",
      "milestone_3a_completed": "2026-02-06",
      "milestone_3a_desc": "3 continuous regime features (volatility_ratio, trend_strength, spread_ratio)",
      "milestone_4_completed": "2026-02-06",
      "milestone_4_desc": "Edge abstraction (Edge class, EdgeRegistry, 3 manual test edges)",
      "milestone_3b_completed": "2026-02-06",
      "milestone_3b_desc": "Regime clustering (RegimeCluster K-means, ClusterRegimeFeature)",
      "validation": {
        "status": "READY_FOR_DATA",
        "script": "tools/validate-behavior-features.js",
        "unit_tests": "PASSED (102/102)",
        "structural_validation": "NOT_YET_RUN",
        "data_validation": "BLOCKED_BY_DATA_AVAILABILITY",
        "criteria": [
          "feature_outcome_correlation (|r| > 0.05, p < 0.05)",
          "regime_stratification (stable > unstable)",
          "incremental_value (features add signal, not noise)"
        ]
      },
      "next_steps": [
        "Milestone 3b: Regime clustering engine (K-means)",
        "Milestone 5 Tier 3: Download sample data and run correlation analysis",
        "Backtest manual edges to validate behavior features",
        "Edge discovery automation (Phase 5)"
      ]
    },
    "strategy_development": {
      "status": "ACTIVE",
      "production_strategy": "BaselineStrategy",
      "target_strategy": "StrategyV1",
      "regime_awareness": true,
      "decision_gating": {
        "status": "VALIDATED",
        "module": "SignalGate",
        "gate_count": 4,
        "gates": ["regime", "signal_strength", "cooldown", "spread_penalty"],
        "actual_trade_reduction": "99.3%",
        "dominant_filter": "cooldown",
        "config_presets": ["default", "high_frequency", "quality", "aggressive", "conservative"]
      },
      "modules": [
        "RegimeModeSelector",
        "SignalGenerator",
        "Combiner",
        "SignalGate",
        "StrategyV1"
      ],
      "config_presets": ["default", "high_frequency", "quality", "aggressive", "conservative"],
      "backtest_results": {
        "strategyv1_initial": {
          "date": "2026-02-05",
          "dataset": "adausdt_20260203",
          "events": 3745659,
          "trades": 1900683,
          "return_pct": -0.25,
          "max_drawdown_pct": -0.74,
          "win_rate": 0.34,
          "status": "EXCESSIVE_TRADING",
          "issues": ["aşırı_trading", "düşük_win_rate", "cooldown_eksik"]
        },
        "strategyv1_with_gate_broken": {
          "date": "2026-02-05",
          "dataset": "adausdt_20260203",
          "events": 3745659,
          "trades": 0,
          "gate_pass_rate": 0.0,
          "status": "THRESHOLD_MISCONFIGURATION",
          "issue": "gate.minSignalScore (0.6) > confidence_range (0.50-0.56)",
          "block_reason": "signal_strength (92.6%)"
        },
        "strategyv1_with_gate_fixed": {
          "date": "2026-02-05",
          "dataset": "adausdt_20260203",
          "events": 3745659,
          "trades": 12927,
          "return_pct": 0.0,
          "max_drawdown_pct": 0.0,
          "win_rate": 0.35,
          "gate_pass_rate": 0.007,
          "gate_evaluations": 1900683,
          "gate_passed": 12927,
          "gate_blocked": 1887756,
          "dominant_block_reason": "cooldown (99.99%)",
          "status": "VALIDATED",
          "noise_reduction": "99.3%",
          "config": "default (gate.minSignalScore=0.5)"
        }
      }
    },
    "ml_integration": {
      "status": "ADVISORY_ACTIVE",
      "confidence_exposed": false,
      "position_scaling": false
    },
    "validation": {
      "decision_logging": "READY",
      "feature_logging": false,
      "regime_logging": "READY"
    }
  },

  "infrastructure": {
    "status": "COMPLETE",
    "collectors": "STABLE",
    "replay_engine": "STABLE",
    "exchange_bridges": "STABLE",
    "safety_guards": "STABLE",
    "monitoring": "STABLE",
    "compact_pipeline": {
      "status": "FIXED",
      "fix_date": "2026-02-05",
      "issue": "Missing ordering_columns in meta.json",
      "resolution": "Added ordering_columns and stream_type to compact.py",
      "backfill_status": "IN_PROGRESS"
    },
    "execution_engine": {
      "status": "OPTIMIZED",
      "optimization_date": "2026-02-05",
      "memory_optimization": {
        "phase_1_streaming_maxdd": {
          "status": "COMPLETE",
          "memory_reduction": "99.99%",
          "baseline_mb": 88.8,
          "optimized_bytes": 24,
          "accuracy_loss": "0%",
          "tests_passed": "6/6"
        },
        "phase_2_fills_streaming": {
          "status": "COMPLETE",
          "memory_reduction": "99.5%",
          "baseline_mb": 190,
          "optimized_kb": 10,
          "accuracy_loss": "0%",
          "tests_passed": "7/7",
          "disk_io_overhead_sec": "2-3"
        },
        "phase_3_lazy_snapshot": {
          "status": "COMPLETE",
          "peak_memory_reduction": "15%",
          "eliminated_mb": 279
        },
        "combined_impact": {
          "total_reduction": "99.998%",
          "baseline_mb": 558,
          "optimized_kb": 10,
          "accuracy_loss": "0%",
          "feature_flags": ["EXECUTION_STREAMING_MAXDD", "EXECUTION_STREAM_FILLS"]
        }
      }
    }
  },

  "risk_layer": "INTEGRATED",
  "live_trading_path": "READY",
  "ml_mode": "ADVISORY_ONLY",

  "exchange_bridge": {
    "status": "READY",
    "supported_exchanges": ["binance", "bybit", "okx"],
    "default_mode": "CANARY"
  }
}
