TAP version 13
# [StatisticalEdgeTester] Permutation test: ENABLED (DEFAULT)
# [StatisticalEdgeTester] Current heap limit: 2096 MB
# [StatisticalEdgeTester] Permutation test requires: 6144 MB
# ❌ FATAL ERROR: Heap limit too low for permutation test
# Current heap: 2096 MB
# Required heap: 6144 MB
# Permutation test provides exact statistical validation but requires high memory.
# SOLUTIONS:
#   1. Increase heap limit (RECOMMENDED for exact semantics):
#      NODE_OPTIONS="--max-old-space-size=6144" node --expose-gc <script>
#   2. Disable permutation test (NOT RECOMMENDED - loses statistical rigor):
#      DISCOVERY_PERMUTATION_TEST=false node <script>
# [StatisticalEdgeTester] Permutation test: ENABLED (DEFAULT)
# [StatisticalEdgeTester] Current heap limit: 2096 MB
# [StatisticalEdgeTester] Permutation test requires: 6144 MB
# [StatisticalEdgeTester] Permutation test: ENABLED (DEFAULT)
# [StatisticalEdgeTester] Current heap limit: 2096 MB
# [StatisticalEdgeTester] Permutation test requires: 6144 MB
# [StatisticalEdgeTester] Permutation test: ENABLED (DEFAULT)
# [StatisticalEdgeTester] Current heap limit: 2096 MB
# [StatisticalEdgeTester] Permutation test requires: 6144 MB
# [StatisticalEdgeTester] Permutation test: ENABLED (DEFAULT)
# [StatisticalEdgeTester] Current heap limit: 2096 MB
# [StatisticalEdgeTester] Permutation test requires: 6144 MB
# ❌ FATAL ERROR: Heap limit too low for permutation test
# Current heap: 2096 MB
# Required heap: 6144 MB
# Permutation test provides exact statistical validation but requires high memory.
# SOLUTIONS:
#   1. Increase heap limit (RECOMMENDED for exact semantics):
#      NODE_OPTIONS="--max-old-space-size=6144" node --expose-gc <script>
#   2. Disable permutation test (NOT RECOMMENDED - loses statistical rigor):
#      DISCOVERY_PERMUTATION_TEST=false node <script>
# ❌ FATAL ERROR: Heap limit too low for permutation test
# Current heap: 2096 MB
# Required heap: 6144 MB
# Permutation test provides exact statistical validation but requires high memory.
# SOLUTIONS:
#   1. Increase heap limit (RECOMMENDED for exact semantics):
#      NODE_OPTIONS="--max-old-space-size=6144" node --expose-gc <script>
#   2. Disable permutation test (NOT RECOMMENDED - loses statistical rigor):
#      DISCOVERY_PERMUTATION_TEST=false node <script>
# ❌ FATAL ERROR: Heap limit too low for permutation test
# Current heap: 2096 MB
# Required heap: 6144 MB
# Permutation test provides exact statistical validation but requires high memory.
# SOLUTIONS:
#   1. Increase heap limit (RECOMMENDED for exact semantics):
#      NODE_OPTIONS="--max-old-space-size=6144" node --expose-gc <script>
#   2. Disable permutation test (NOT RECOMMENDED - loses statistical rigor):
#      DISCOVERY_PERMUTATION_TEST=false node <script>
# ❌ FATAL ERROR: Heap limit too low for permutation test
# Current heap: 2096 MB
# Required heap: 6144 MB
# Permutation test provides exact statistical validation but requires high memory.
# SOLUTIONS:
#   1. Increase heap limit (RECOMMENDED for exact semantics):
#      NODE_OPTIONS="--max-old-space-size=6144" node --expose-gc <script>
#   2. Disable permutation test (NOT RECOMMENDED - loses statistical rigor):
#      DISCOVERY_PERMUTATION_TEST=false node <script>
# Subtest: StatisticalEdgeTester - constructor
not ok 1 - StatisticalEdgeTester - constructor
  ---
  duration_ms: 6.268777
  location: '/home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:9:1'
  failureType: 'testCodeFailure'
  error: 'Heap limit too low: 2096 MB < 6144 MB required for permutation test'
  code: 'ERR_TEST_FAILURE'
  stack: |-
    new StatisticalEdgeTester (file:///home/deploy/quantlab-backend/core/edge/discovery/StatisticalEdgeTester.js:64:15)
    TestContext.<anonymous> (file:///home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:10:18)
    Test.runInAsyncScope (node:async_hooks:206:9)
    Test.run (node:internal/test_runner/test:796:25)
    Test.processPendingSubtests (node:internal/test_runner/test:526:18)
    node:internal/test_runner/harness:255:12
    node:internal/process/task_queues:140:7
    AsyncResource.runInAsyncScope (node:async_hooks:206:9)
    AsyncResource.runMicrotask (node:internal/process/task_queues:137:8)
  ...
# Subtest: StatisticalEdgeTester - test with good edge (synthetic)
not ok 2 - StatisticalEdgeTester - test with good edge (synthetic)
  ---
  duration_ms: 1.558126
  location: '/home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:17:1'
  failureType: 'testCodeFailure'
  error: 'Heap limit too low: 2096 MB < 6144 MB required for permutation test'
  code: 'ERR_TEST_FAILURE'
  stack: |-
    new StatisticalEdgeTester (file:///home/deploy/quantlab-backend/core/edge/discovery/StatisticalEdgeTester.js:64:15)
    TestContext.<anonymous> (file:///home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:18:18)
    Test.runInAsyncScope (node:async_hooks:206:9)
    Test.run (node:internal/test_runner/test:796:25)
    Test.processPendingSubtests (node:internal/test_runner/test:526:18)
    Test.postRun (node:internal/test_runner/test:889:19)
    Test.run (node:internal/test_runner/test:835:12)
    async Test.processPendingSubtests (node:internal/test_runner/test:526:7)
  ...
# Subtest: StatisticalEdgeTester - test with random noise (should reject)
not ok 3 - StatisticalEdgeTester - test with random noise (should reject)
  ---
  duration_ms: 1.181568
  location: '/home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:81:1'
  failureType: 'testCodeFailure'
  error: 'Heap limit too low: 2096 MB < 6144 MB required for permutation test'
  code: 'ERR_TEST_FAILURE'
  stack: |-
    new StatisticalEdgeTester (file:///home/deploy/quantlab-backend/core/edge/discovery/StatisticalEdgeTester.js:64:15)
    TestContext.<anonymous> (file:///home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:82:18)
    Test.runInAsyncScope (node:async_hooks:206:9)
    Test.run (node:internal/test_runner/test:796:25)
    Test.processPendingSubtests (node:internal/test_runner/test:526:18)
    Test.postRun (node:internal/test_runner/test:889:19)
    Test.run (node:internal/test_runner/test:835:12)
    async Test.processPendingSubtests (node:internal/test_runner/test:526:7)
  ...
# Subtest: StatisticalEdgeTester - insufficient sample size
not ok 4 - StatisticalEdgeTester - insufficient sample size
  ---
  duration_ms: 1.005848
  location: '/home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:136:1'
  failureType: 'testCodeFailure'
  error: 'Heap limit too low: 2096 MB < 6144 MB required for permutation test'
  code: 'ERR_TEST_FAILURE'
  stack: |-
    new StatisticalEdgeTester (file:///home/deploy/quantlab-backend/core/edge/discovery/StatisticalEdgeTester.js:64:15)
    TestContext.<anonymous> (file:///home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:137:18)
    Test.runInAsyncScope (node:async_hooks:206:9)
    Test.run (node:internal/test_runner/test:796:25)
    Test.processPendingSubtests (node:internal/test_runner/test:526:18)
    Test.postRun (node:internal/test_runner/test:889:19)
    Test.run (node:internal/test_runner/test:835:12)
    async Test.processPendingSubtests (node:internal/test_runner/test:526:7)
  ...
# Subtest: StatisticalEdgeTester - testBatch with Bonferroni correction
not ok 5 - StatisticalEdgeTester - testBatch with Bonferroni correction
  ---
  duration_ms: 0.954137
  location: '/home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:170:1'
  failureType: 'testCodeFailure'
  error: 'Heap limit too low: 2096 MB < 6144 MB required for permutation test'
  code: 'ERR_TEST_FAILURE'
  stack: |-
    new StatisticalEdgeTester (file:///home/deploy/quantlab-backend/core/edge/discovery/StatisticalEdgeTester.js:64:15)
    TestContext.<anonymous> (file:///home/deploy/quantlab-backend/core/edge/discovery/tests/test-statistical-edge-tester.js:171:18)
    Test.runInAsyncScope (node:async_hooks:206:9)
    Test.run (node:internal/test_runner/test:796:25)
    Test.processPendingSubtests (node:internal/test_runner/test:526:18)
    Test.postRun (node:internal/test_runner/test:889:19)
    Test.run (node:internal/test_runner/test:835:12)
    async Test.processPendingSubtests (node:internal/test_runner/test:526:7)
  ...
1..5
# tests 5
# suites 0
# pass 0
# fail 5
# cancelled 0
# skipped 0
# todo 0
# duration_ms 137.368602
