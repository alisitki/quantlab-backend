STDOUT_TAIL
================================================================================
MULTI-DAY DISCOVERY RUNNER
================================================================================
mode:             smoke
exchange:          binance
stream:            bbo
symbol:            ADA/USDT
date_range:        20260112..20260112 (1 day(s))
permutation_test:  OFF (CLI)
heapMB:            6144
heap_limit_mb:     6192
progressEvery:     1
================================================================================

[Dataset] Resolving day files...
[Dataset] progress 1/1: date=20260112 parquet=adausdt_20260112.parquet meta=adausdt_20260112_meta.json
[Dataset] resolved 1 day(s); meta.rows_total=3889966
[dotenv@17.2.3] injecting env (53) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

[Run] output_dir=runs/multi-day-discovery/2026-02-08T07-28-13-628Z_binance_bbo_adausdt_20260112_20260112_smoke_perm-off
[Run] starting EdgeDiscoveryPipeline.runMultiDayStreaming(files=1)...

[StatisticalEdgeTester] Permutation test: DISABLED (DISCOVERY_PERMUTATION_TEST=false)
[StatisticalEdgeTester] ‚ö†Ô∏è  Statistical validation will rely on t-test + Sharpe only
[EdgeDiscoveryPipeline] ========================================
[EdgeDiscoveryPipeline] Running multi-day discovery (STREAMING) with 1 files
[EdgeDiscoveryPipeline] ========================================
[EdgeDiscoveryPipeline] Step 1: Creating iterator factory...
[DiscoveryDataLoader] Loading multi-day data (streaming): 1 files
[DiscoveryDataLoader] Training regime model on first file (streaming)...
[DiscoveryDataLoader] Collecting regime vectors (streaming)...
{"event":"replay_stats","run_id":"7616b24e-6826-4ff0-a69f-0a571d87f2c1","manifest_id":"30d78847f1c0","parquet_path":"data/sprint2/adausdt_20260112.parquet","batch_size":10000,"emitted_rows":3889966,"duration_ms":291471,"stop_reason":"EOF"}
[DiscoveryDataLoader] Collected 3870150 regime vectors from 3889966 events (19816 warmup)
[DiscoveryDataLoader] Regime model trained: 4 clusters
[DiscoveryDataLoader] Memory: regime vectors GC-able now (3870150 vectors)
[DiscoveryDataLoader] Metadata prepared (totalRowCount: TBD via iterator)
[DiscoveryDataLoader] Iterator factory ready for streaming
[EdgeDiscoveryPipeline] Iterator factory ready. Estimated rows: null
[EdgeDiscoveryPipeline] Step 2: Preparing streaming dataset...
[EdgeDiscoveryPipeline] Dataset ready (streaming mode)
[EdgeDiscoveryPipeline] Step 3: Scanning for patterns...
[PatternScanner] Scanning with methods: threshold, quantile, cluster
[PatternScanner] Mode: STREAMING (async iterator detected)
[PatternScanner] Running threshold scan (streaming)...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260112.parquet
{"event":"replay_stats","run_id":"a1549f1f-3173-4849-9cae-9a1ea93c71da","manifest_id":"30d78847f1c0","parquet_path":"data/sprint2/adausdt_20260112.parquet","batch_size":10000,"emitted_rows":3889966,"duration_ms":343430,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 3870150 rows from 3889966 events (19816 warmup)
[DiscoveryDataLoader] Day streamed: 3870150 rows yielded
[PatternScanner] Testing 810 threshold configurations...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260112.parquet
{"event":"replay_stats","run_id":"af6fe17a-9c51-4439-9086-7caa75afdb5e","manifest_id":"30d78847f1c0","parquet_path":"data/sprint2/adausdt_20260112.parquet","batch_size":10000,"emitted_rows":3889966,"duration_ms":339633,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 3870150 rows from 3889966 events (19816 warmup)
[PatternScanner] Threshold scan processed 500000 rows...
[PatternScanner] Threshold scan processed 1000000 rows...
[PatternScanner] Threshold scan processed 1500000 rows...
[PatternScanner] Threshold scan processed 2000000 rows...
[PatternScanner] Threshold scan processed 2500000 rows...
[PatternScanner] Threshold scan processed 3000000 rows...
[PatternScanner] Threshold scan processed 3500000 rows...
[DiscoveryDataLoader] Day streamed: 3870150 rows yielded
[PatternScanner] Warning: 252 configs exceeded 50000 matches (capped)
[PatternScanner] Threshold scan completed 3870150 rows
[PatternScanner] Threshold scan found 576 patterns (kept 200)
[PatternScanner] Running quantile scan (streaming)...
[PatternScanner] Quantile scan pass 1: collecting feature values...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260112.parquet
STDERR_TAIL
(node:2850232) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///home/deploy/quantlab-backend/tools/run-multi-day-discovery.js is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /home/deploy/quantlab-backend/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
TIME_V
Command exited with non-zero status 124
	Command being timed: "timeout --signal=INT 1200 env -u DISCOVERY_PERMUTATION_TEST NODE_OPTIONS=--max-old-space-size=6144 /usr/bin/node tools/run-multi-day-discovery.js --exchange binance --stream bbo --symbol ADA/USDT --start 20260112 --end 20260112 --heapMB 6144 --permutationTest off --mode smoke --progressEvery 1"
	User time (seconds): 1608.71
	System time (seconds): 210.10
	Percent of CPU this job got: 151%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 20:00.34
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 5356488
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 77087966
	Voluntary context switches: 563105
	Involuntary context switches: 318224
	Swaps: 0
	File system inputs: 0
	File system outputs: 128
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 124
