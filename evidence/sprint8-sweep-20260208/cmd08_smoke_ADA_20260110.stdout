================================================================================
MULTI-DAY DISCOVERY RUNNER
================================================================================
mode:             smoke
exchange:          binance
stream:            bbo
symbol:            ADA/USDT
date_range:        20260110..20260110 (1 day(s))
permutation_test:  OFF (CLI)
heapMB:            6144
heap_limit_mb:     6192
progressEvery:     1
================================================================================

[Dataset] Resolving day files...
[Dataset] progress 1/1: date=20260110 parquet=adausdt_20260110.parquet meta=adausdt_20260110_meta.json
[Dataset] resolved 1 day(s); meta.rows_total=1728582
[dotenv@17.2.3] injecting env (53) from .env -- tip: ⚙️  override existing env vars with { override: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ⚙️  enable debug logging with { debug: true }

[Run] output_dir=runs/multi-day-discovery/2026-02-08T07-48-48-258Z_binance_bbo_adausdt_20260110_20260110_smoke_perm-off
[Run] starting EdgeDiscoveryPipeline.runMultiDayStreaming(files=1)...

[StatisticalEdgeTester] Permutation test: DISABLED (DISCOVERY_PERMUTATION_TEST=false)
[StatisticalEdgeTester] ⚠️  Statistical validation will rely on t-test + Sharpe only
[EdgeDiscoveryPipeline] ========================================
[EdgeDiscoveryPipeline] Running multi-day discovery (STREAMING) with 1 files
[EdgeDiscoveryPipeline] ========================================
[EdgeDiscoveryPipeline] Step 1: Creating iterator factory...
[DiscoveryDataLoader] Loading multi-day data (streaming): 1 files
[DiscoveryDataLoader] Training regime model on first file (streaming)...
[DiscoveryDataLoader] Collecting regime vectors (streaming)...
{"event":"replay_stats","run_id":"a330aec5-eb98-483f-b9cd-e3dc8a1c90cd","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":97028,"stop_reason":"EOF"}
[DiscoveryDataLoader] Collected 1716886 regime vectors from 1728582 events (11696 warmup)
[DiscoveryDataLoader] Regime model trained: 4 clusters
[DiscoveryDataLoader] Memory: regime vectors GC-able now (1716886 vectors)
[DiscoveryDataLoader] Metadata prepared (totalRowCount: TBD via iterator)
[DiscoveryDataLoader] Iterator factory ready for streaming
[EdgeDiscoveryPipeline] Iterator factory ready. Estimated rows: null
[EdgeDiscoveryPipeline] Step 2: Preparing streaming dataset...
[EdgeDiscoveryPipeline] Dataset ready (streaming mode)
[EdgeDiscoveryPipeline] Step 3: Scanning for patterns...
[PatternScanner] Scanning with methods: threshold, quantile, cluster
[PatternScanner] Mode: STREAMING (async iterator detected)
[PatternScanner] Running threshold scan (streaming)...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"718c78ae-c93b-4757-8ec7-bd8eaf447308","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":107710,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Testing 810 threshold configurations...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"813edd2c-6f0d-4863-934a-8fbccff3bf72","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":113605,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[PatternScanner] Threshold scan processed 500000 rows...
[PatternScanner] Threshold scan processed 1000000 rows...
[PatternScanner] Threshold scan processed 1500000 rows...
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Warning: 177 configs exceeded 50000 matches (capped)
[PatternScanner] Threshold scan completed 1716886 rows
[PatternScanner] Threshold scan found 558 patterns (kept 200)
[PatternScanner] Running quantile scan (streaming)...
[PatternScanner] Quantile scan pass 1: collecting feature values...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"68c48556-a574-45e1-bc62-89b74ced8aed","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":108001,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Computed quantiles for 9 features
[PatternScanner] Quantile scan pass 2: matching patterns...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"f5fcc120-9e1d-489b-9c3e-f63feb983a4d","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":120172,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[PatternScanner] Quantile scan processed 500000 rows...
[PatternScanner] Quantile scan processed 1000000 rows...
[PatternScanner] Quantile scan processed 1500000 rows...
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Warning: 48 configs exceeded 50000 matches (capped)
[PatternScanner] Quantile scan completed 1716886 rows
[PatternScanner] Quantile scan found 51 patterns (kept 51)
[PatternScanner] Running cluster scan (streaming)...
[PatternScanner] Cluster scan pass 1: building feature matrix...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"3abbffdd-f097-4810-ae38-9a1f422dcfed","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":105621,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[PatternScanner] Feature matrix: 500000 rows...
[PatternScanner] Feature matrix: 1000000 rows...
[PatternScanner] Feature matrix: 1500000 rows...
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Feature matrix built: 1716886 rows
[PatternScanner] Cluster model trained (k=12)
[PatternScanner] Cluster scan pass 2: assigning cluster labels...
[DiscoveryDataLoader] Streaming file: data/sprint2/adausdt_20260110.parquet
{"event":"replay_stats","run_id":"b4eeb4a4-c533-433b-a664-92f2c9b325ff","manifest_id":"3be7d489f977","parquet_path":"data/sprint2/adausdt_20260110.parquet","batch_size":10000,"emitted_rows":1728582,"duration_ms":119648,"stop_reason":"EOF"}
[DiscoveryDataLoader] Day collected: 1716886 rows from 1728582 events (11696 warmup)
[PatternScanner] Cluster scan processed 500000 rows...
[PatternScanner] Cluster scan processed 1000000 rows...
[PatternScanner] Cluster scan processed 1500000 rows...
[DiscoveryDataLoader] Day streamed: 1716886 rows yielded
[PatternScanner] Warning: 9 clusters exceeded 100000 matches (capped)
[PatternScanner] Cluster scan completed 1716886 rows
[PatternScanner] Cluster scan found 12 patterns (kept 12)
[PatternScanner] Found 263 total patterns (streaming)
[PatternScanner] 0 patterns passed filters (support >= 30, |return| >= 0.0005)
[EdgeDiscoveryPipeline] Found 0 patterns
[EdgeDiscoveryPipeline] No patterns found. Exiting.

================================================================================
DISCOVERY SUMMARY
================================================================================
patterns_scanned:          0
patterns_tested_significant:0
edge_candidates_generated: 0
edge_candidates_registered:0
metadata.dataRowCount:     0
metadata.regimesUsed:      4
metadata.filesLoaded:      1
duration_ms:              872865
================================================================================
[Runner] no_patterns: patterns_scanned=0 (scanner.minSupport=30 scanner.returnThreshold=0.0005)
[Runner] note: threshold/config may be restrictive
[Run] report_saved=runs/multi-day-discovery/2026-02-08T07-48-48-258Z_binance_bbo_adausdt_20260110_20260110_smoke_perm-off/discovery-report-2026-02-08T07-48-48-258Z.json
